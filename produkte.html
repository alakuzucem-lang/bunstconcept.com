<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Bunst Concept</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
      background-color: #f2f2f2;
    }

    .site-header {
      text-align: center;
      padding: 30px 20px 10px;
      color: #000;
      position: relative;
      overflow: visible;
    }

    /* Category bar */
    .category-bar {
      display: flex;
      justify-content: center;
      gap: 40px;
      margin-top: 12px;
      font-size: 1.1em;
    }
    .category-item { position: relative; }
    .category-bar a {
      color: #000;
      text-decoration: none;
      cursor: pointer;
      font-weight: 500;
    }
    .category-bar a:hover { text-decoration: underline; }

    /* Submenu */
    .submenu {
      position: absolute;
      top: 100%;
      left: 0;
      display: none;
      flex-direction: column;
      min-width: 160px;
      background: #fff;
      border: 1px solid #ccc;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      z-index: 1000;
    }
    .submenu a {
      padding: 10px 14px;
      color: #000;
      text-decoration: none;
      border-bottom: 1px solid #eee;
    }
    .submenu a:last-child { border-bottom: none; }
    .submenu a:hover { background: #f5f5f5; }
    .dropdown:hover .submenu { display: flex; }

    /* Filter dropdown */
    #tag-filter {
      margin-top: 20px;
      padding: 6px 10px;
      border-radius: 6px;
      border: 1px solid #ccc;
      font-size: 0.95em;
    }

    /* Language switch */
    #lang-switch {
      position: fixed;
      top: 12px;
      right: 20px;
      z-index: 1000;
      background: #fff;
      padding: 6px 8px;
      border: 1px solid #ddd;
      border-radius: 6px;
    }

    /* Product grid */
    #product-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 24px;
      margin-top: 20px;
    }
    @media (max-width: 1024px) { #product-grid { grid-template-columns: repeat(2, 1fr); } }
    @media (max-width: 640px) { #product-grid { grid-template-columns: 1fr; } }

    /* Overlay */
    #fullscreen-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.9);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 9999;
    }
    #fullscreen-overlay img {
      max-width: 90%;
      max-height: 90%;
      object-fit: contain;
      border-radius: 8px;
      box-shadow: 0 0 20px rgba(255,255,255,0.25);
    }
    #overlay-controls {
      position: absolute;
      width: 100%;
      top: 50%;
      display: flex;
      justify-content: space-between;
      color: white;
      font-size: 40px;
      cursor: pointer;
      user-select: none;
      padding: 0 24px;
    }
  </style>
</head>
<body>

  <!-- Dil se√ßici -->
  <select id="lang-switch">
    <option value="de">Deutsch</option>
    <option value="en">English</option>
  </select>

  <header class="site-header">
    <h1 id="page-title">Bunst Concept</h1>

    <!-- Ana kategoriler -->
    <div class="category-bar">
      <div class="category-item dropdown">
        <a href="#" id="cat-tshirts" class="main-category" data-category="t-shirts">T-Shirts</a>
<div class="submenu">
  <a href="#" id="sub-men" data-sub="men">M√§nner</a>
  <a href="#" id="sub-women" data-sub="women">Frauen</a>
  <a href="#" id="sub-unisex" data-sub="unisex">Unisex</a>
  <a href="#" id="sub-kids" data-sub="kids">Kinder</a>
</div>
      </div>
      <div class="category-item">
        <a href="#" id="cat-bag" class="main-category" data-category="tragetasche">Tragetasche</a>
      </div>
      <div class="category-item">
        <a href="#" id="cat-home" class="main-category" data-category="heimtextilien">Heimtextilien</a>
      </div>
    </div>

    <!-- Filtre dropdown -->
    <select id="tag-filter">
      <option value="">Designs Filtern</option>
      <option value="personalisierte">Personalisierte Drucke</option>
      <option value="halloween">Halloweendesigns</option>
      <option value="weihnachten">Weihnachtsdesigns</option>
      <option value="tier">Tierdesigns</option>
      <option value="paar">Familienkollektion</option>
      <option value="schule">Schulkollektion</option>
      <option value="braut">Braut & Br√§utigam Kollektion</option>
      <option value="alle">Design f√ºr Alle</option>
    </select>
  </header>

  <div id="product-grid"></div>

  <div id="fullscreen-overlay">
    <img id="overlay-img" src="" alt="Gallery"/>
    <div id="overlay-controls">
      <div id="overlay-left">‚ü®</div>
      <div id="overlay-right">‚ü©</div>
    </div>
  </div>

  <div id="overlay">
  <img id="overlay-img">
  <div id="overlay-figures"></div>
  <div id="print-selector"></div>
</div>
  <div id="overlay" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:#fff; z-index:9999; flex-direction:column; align-items:center; justify-content:center;">
  <img id="overlay-img" style="max-width:300px; margin-bottom:20px;">
  <div id="overlay-figures" style="position:absolute; top:0; left:0; width:100%; height:100%; pointer-events:none;"></div>
  <div id="print-selector" style="max-height:60vh; overflow-y:auto; background:#f9f9f9; padding:16px; border-radius:12px; box-shadow:0 2px 12px rgba(0,0,0,0.2);"></div>
</div>

  <script>
    let currentLang = "de";
    let allProducts = [];

    // √úr√ºnleri JSON'dan y√ºkle
    fetch("products.json")
      .then(res => res.json())
      .then(data => {
        allProducts = data;
        renderProducts(allProducts, currentLang);
      })
      .catch(err => console.error("products.json y√ºklenemedi:", err));

    // Filtre metinlerini g√ºncelle
    function updateFilterTexts(lang) {
      const filter = document.getElementById("tag-filter");
      if (!filter) return;
      const de = ["Designs Filtern","Personalisierte Drucke","Halloweendesigns","Weihnachtsdesigns","Tierdesigns","Familienkollektion","Schulkollektion","Braut & Br√§utigam Kollektion","Design f√ºr Alle"];
      const en = ["Filter Designs","Personalized Prints","Halloween Designs","Christmas Designs","Animal Designs","Family Collection","School Collection","Bride & Groom Collection","Design for Everyone"];
      const labels = lang === "de" ? de : en;
      [...filter.options].forEach((opt, i) => { if (labels[i]) opt.text = labels[i]; });
    }

    // Kategori etiketlerini g√ºncelle
    function updateCategoryLabels(lang) {
  const tshirts = document.getElementById("cat-tshirts");
  const bag = document.getElementById("cat-bag");
  const home = document.getElementById("cat-home");

  const subMen = document.getElementById("sub-men");
  const subWomen = document.getElementById("sub-women");
  const subUnisex = document.getElementById("sub-unisex");
  const subKids = document.getElementById("sub-kids");

  if (tshirts) tshirts.textContent = lang === "de" ? "T-Shirts" : "T-Shirts";
  if (bag) bag.textContent = lang === "de" ? "Tragetasche" : "Tote Bags";
  if (home) home.textContent = lang === "de" ? "Heimtextilien" : "Home Textiles";

  if (subMen) subMen.textContent = lang === "de" ? "M√§nner" : "Men";
  if (subWomen) subWomen.textContent = lang === "de" ? "Frauen" : "Women";
  if (subUnisex) subUnisex.textContent = lang === "de" ? "Unisex" : "Unisex";
  if (subKids) subKids.textContent = lang === "de" ? "Kinder" : "Kids";
}

    // Ana kategori filtreleri
document.querySelectorAll(".main-category").forEach(link => {
  link.addEventListener("click", (e) => {
    e.preventDefault();
    const category = link.getAttribute("data-category");
    if (!category) return;
    const filtered = allProducts.filter(p => p.category === category);
    renderProducts(filtered, currentLang);
  });
});
// Alt kategori filtreleri
document.querySelectorAll(".submenu a").forEach(link => {
  link.addEventListener("click", (e) => {
    e.preventDefault();
    const sub = link.getAttribute("data-sub");
    if (!sub) return;
    const filtered = allProducts.filter(p => Array.isArray(p.subcategories) && p.subcategories.includes(sub));
    renderProducts(filtered, currentLang);
  });
});

    // Overlay
    const overlay = document.getElementById("fullscreen-overlay");
    const overlayImg = document.getElementById("overlay-img");
    const overlayLeft = document.getElementById("overlay-left");
    const overlayRight = document.getElementById("overlay-right");
    let overlayImages = [];
    let overlayIndex = 0;

    function showOverlay(images, startIndex = 0) {
      overlayImages = images;
      overlayIndex = startIndex
      overlayImg.src = overlayImages[overlayIndex];
      overlay.style.display = "flex";
    }

    overlay.addEventListener("click", (e) => {
      if (e.target === overlay) overlay.style.display = "none";
    });
    overlayLeft.addEventListener("click", (e) => {
      e.stopPropagation();
      overlayIndex = (overlayIndex - 1 + overlayImages.length) % overlayImages.length;
      overlayImg.src = overlayImages[overlayIndex];
    });
    overlayRight.addEventListener("click", (e) => {
      e.stopPropagation();
      overlayIndex = (overlayIndex + 1) % overlayImages.length;
      overlayImg.src = overlayImages[overlayIndex];
    });

    // √úr√ºnleri render et
  function renderProducts(products, lang = "de") {
  const grid = document.getElementById("product-grid");
  if (!grid) return;
  grid.innerHTML = "";

  function formatDescription(text) {
    const lines = text.split("\n").filter(l => l.trim() !== "");
    return `<ul style="padding-left:20px; margin:0; font-size:14px; line-height:1.5;">
      ${lines.map(line => `<li style="text-align:left;">${line}</li>`).join("")}
    </ul>`;
  }

  products.forEach(product => {
    const card = document.createElement("div");
    card.className = "product-card";
    Object.assign(card.style, {
      width: "400px",
      display: "flex",
      flexDirection: "column",
      alignItems: "center",
      padding: "16px",
      backgroundColor: "#fff", // sadece beyaz kart
      borderRadius: "12px",
      boxShadow: "0 2px 8px rgba(0,0,0,0.1)",
    });

    let currentIndex = 0;
    const images = [product.image, ...(product.extraImages || [])];

    const frame = document.createElement("div");
    frame.className = "product-frame";
    Object.assign(frame.style, {
      width: "100%",
      position: "relative",
      padding: "0", // arka plan √ßer√ßeve kaldƒ±rƒ±ldƒ±
      display: "flex",
      flexDirection: "column",
      alignItems: "center"
    });

    const zoomIcon = document.createElement("div");
    zoomIcon.className = "zoom-icon";
    zoomIcon.textContent = "üîç";
    zoomIcon.title = lang === "de" ? "Bild vergr√∂√üern" : "Zoom image";
    Object.assign(zoomIcon.style, {
      position: "absolute",
      top: "12px",
      right: "12px",
      fontSize: "18px",
      background: "rgba(255,255,255,0.95)",
      borderRadius: "50%",
      padding: "6px",
      cursor: "pointer",
      boxShadow: "0 2px 6px rgba(0,0,0,0.2)",
      zIndex: "10"
    });

    const carousel = document.createElement("div");
    carousel.className = "carousel";
    Object.assign(carousel.style, {
      display: "flex",
      alignItems: "center",
      justifyContent: "center",
      position: "relative",
      width: "100%"
    });

    const leftArrow = document.createElement("div");
    leftArrow.className = "left-arrow";
    leftArrow.textContent = "‚ü®";
    Object.assign(leftArrow.style, {
      cursor: "pointer",
      marginRight: "8px"
    });

    const imgEl = document.createElement("img");
    imgEl.className = "carousel-img";
    imgEl.src = images[0];
    imgEl.alt = product.title[lang];
    Object.assign(imgEl.style, {
      maxHeight: "200px",
      width: "100%",
      objectFit: "contain",
      borderRadius: "8px"
    });

    const rightArrow = document.createElement("div");
    rightArrow.className = "right-arrow";
    rightArrow.textContent = "‚ü©";
    Object.assign(rightArrow.style, {
      cursor: "pointer",
      marginLeft: "8px"
    });

    carousel.appendChild(leftArrow);
    carousel.appendChild(imgEl);
    carousel.appendChild(rightArrow);

    const info = document.createElement("div");
    info.className = "product-info";
    info.innerHTML = `
      <h3>${product.title[lang]}</h3>
      <ul>
        <li>${lang === "de" ? "Material" : "Material"}: ${product.material[lang]}</li>
        <li>${lang === "de" ? "Druck" : "Print"}: ${product.print[lang]}</li>
        <li>${lang === "de" ? "Gr√∂√üen" : "Sizes"}: ${product.sizes[lang]}</li>
      </ul>
      <p class="price">${lang === "de" ? "Kontaktieren Sie uns" : "Contact us"}</p>
      <div class="cart-actions">
        <input type="number" class="quantity" min="1" value="1">
        <button class="add-to-cart">üõí ${lang === "de" ? "In den Warenkorb" : "Add to cart"}</button>
      </div>
    `;

    const detailsBox = document.createElement("div");
    detailsBox.className = "product-details-box";
    detailsBox.style.display = "none"; // ba≈ülangƒ±√ßta gizli
    detailsBox.style.textAlign = "left"; // t√ºm kutuyu sola yasla
    detailsBox.style.width = "100%"; // geni≈üliƒüi tam olsun
    detailsBox.style.padding = "12px"; // i√ßerik bo≈üluƒüu
    detailsBox.innerHTML = `
      <h4 style="margin-bottom:8px;">${lang === "de" ? "Produktdetails" : "Product Details"}</h4>
      ${formatDescription(product.description[lang])}
    `;

    // Carousel olaylarƒ±
    leftArrow.addEventListener("click", (e) => {
      e.stopPropagation();
      currentIndex = (currentIndex - 1 + images.length) % images.length;
      imgEl.src = images[currentIndex];
    });
    rightArrow.addEventListener("click", (e) => {
      e.stopPropagation();
      currentIndex = (currentIndex + 1) % images.length;
      imgEl.src = images[currentIndex];
    });

    zoomIcon.addEventListener("click", (e) => {
      e.stopPropagation();
      showOverlay(images, currentIndex);
    });

    frame.addEventListener("click", (e) => {
      if (e.target.classList.contains("zoom-icon") || e.target.closest(".cart-actions")) return;
      detailsBox.style.display = detailsBox.style.display === "block" ? "none" : "block";
    });

    frame.appendChild(zoomIcon);
    frame.appendChild(carousel);
    frame.appendChild(info);

    card.appendChild(frame);
    card.appendChild(detailsBox);
    grid.appendChild(card);
  });
}

    // Filtre dropdown
    const tagFilter = document.getElementById("tag-filter");
    if (tagFilter) {
      tagFilter.addEventListener("change", (e) => {
        const selectedTag = e.target.value;
        if (!selectedTag) {
          renderProducts(allProducts, currentLang);
        } else {
          const filtered = allProducts.filter(p => Array.isArray(p.tags) && p.tags.includes(selectedTag));
          renderProducts(filtered, currentLang);
        }
      });
    }

    // Dil deƒüi≈üimi
    const langSwitch = document.getElementById("lang-switch");
    if (langSwitch) {
      langSwitch.addEventListener("change", (e) => {
        currentLang = e.target.value;
        document.documentElement.setAttribute("lang", currentLang);
        document.title = "Bunst Concept";
        const pageTitle = document.getElementById("page-title");
        if (pageTitle) pageTitle.textContent = "Bunst Concept";
        updateFilterTexts(currentLang);
        updateCategoryLabels(currentLang);
        renderProducts(allProducts, currentLang);
      });
    }

document.addEventListener("DOMContentLoaded", () => {
  // Dil ayarƒ± (√∂rnek)
  let currentLang = "de"; // veya "en"

  // Kategoriler ve her biri i√ßin ka√ß g√∂rsel olduƒüunu tanƒ±mla
  const figureConfig = {
    Christmas: 3,
    Bride: 2,
    Halloween: 4,
    School: 2,
    Animal: 5,
    Family: 3
  };

  // Otomatik printOptions √ºret
  const printOptions = Object.entries(figureConfig).flatMap(([name, count]) =>
    Array.from({ length: count }, (_, i) => {
      const num = i + 1;
      const id = `${name.toLowerCase()}-${num}`;
      return {
        id: id,
        src: `images/Figure-${name}-${num}.png`, // senin y√ºklediƒüin dosya adƒ±
        label: {
          de: `${name} ${num}`,
          en: `${name} ${num}`
        }
      };
    })
  );

  // Slot konumlarƒ± (√∂rnek)
  const slots = {
    chest: { top: "40%", left: "50%", transform: "translate(-50%, -50%)" },
    sleeve: { top: "60%", left: "80%", transform: "translate(-50%, -50%)" }
  };

  // Overlay a√ßma fonksiyonu
  function showOverlay(images, startIndex = 0) {
    const overlay = document.getElementById("overlay");
    const overlayImg = document.getElementById("overlay-img");

    if (!overlay || !overlayImg) return;

    overlayImg.src = images[startIndex];
    overlay.style.display = "flex";

    // Fig√ºr se√ßim kutusu doldur
    const selector = document.getElementById("print-selector");
    if (selector) {
      selector.innerHTML = `
        <h3 style="margin-bottom:12px;">
          ${currentLang === "de" ? "W√§hlen Sie ein Druckmotiv" : "Choose a print design"}
        </h3>
        ${printOptions.map(opt => `
          <label style="display:flex; align-items:center; margin-bottom:12px; cursor:pointer;">
            <input type="radio" name="print-option" value="${opt.id}" style="margin-right:8px;">
            <img src="${opt.src}" alt="${opt.label[currentLang]}" style="width:60px; height:auto; margin-right:8px;">
            ${opt.label[currentLang]}
          </label>
        `).join("")}
      `;
    }

    // Radio buton se√ßimlerini dinle
    document.querySelectorAll('input[name="print-option"]').forEach(radio => {
      radio.addEventListener("change", (e) => {
        const selected = e.target.value;
        const fig = printOptions.find(opt => opt.id === selected);
        if (fig) {
          showFigureOnShirt(fig.src, "chest"); // √∂rn. g√∂ƒü√ºs kƒ±smƒ±na yerle≈ütir
        }
      });
    });
  }

  // Fig√ºr√º ti≈ü√∂rt √ºzerine yerle≈ütirme
  function showFigureOnShirt(src, slotName) {
    const overlayFigures = document.getElementById("overlay-figures");
    if (!overlayFigures) return;

    overlayFigures.innerHTML = "";

    const img = document.createElement("img");
    img.src = src;
    img.className = "figure-slot";
    Object.assign(img.style, slots[slotName]); // senin belirlediƒüin konum
    img.style.width = "80px"; // fig√ºr boyutu

    overlayFigures.appendChild(img);
  }

  // √úr√ºn kartƒ±na tƒ±klama ‚Üí overlay a√ß
  document.querySelectorAll(".product-card").forEach(card => {
    card.addEventListener("click", (e) => {
      if (e.target.classList.contains("zoom-icon") || e.target.closest(".cart-actions")) return;
      const img = card.querySelector("img");
      if (img) {
        showOverlay([img.src], 0);
      }
    });
  });
});
  </script>
</body>
</html>
